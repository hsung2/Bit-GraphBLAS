#!/bin/bash

# dataset filenames
filename=(
mycielskian2
mycielskian3
Tina_AskCal
Tina_AskCog
GD01_b
mycielskian4
Tina_DisCal
Tina_DisCog
jgl009
GD98_a
GD95_a
rgg010
jgl011
GD02_a
GD95_b
GlossGT
ibm32
bcspwr01
mycielskian5
GD99_c
karate
can_24
bcspwr02
lap_25
GD96_b
GD98_b
can_62
dwt_72
GD96_d
GD02_b
GD96_c
cat_ears_2_1
dwt_59
will57
GD95_c
curtis54
dolphins
dwt_66
GD97_a
GD98_c
chesapeake
can_73
GD06_theory
sphere2
GD00_a
mycielskian6
bcspwr03
ash85
dwt_87
can_61
gent113
will199
can_96
dwt_234
grid1_dual
adjnoun
polbooks
grid1
dwt_162
can_144
can_161
dwt_198
dwt_245
can_187
mycielskian7
bcspwr04
bcspwr05
dwt_221
CSphd
dwt_209
lshp_265
can_229
sphere3
ash292
netz4504_dual
dwt_310
dwt_307
can_292
Erdos971
Harvard500
lshp_406
Erdos981
Erdos991
can_256
dwt_361
can_268
dwt_492
dwt_346
bibd_81_2
dwt_193
dwt_512
dwt_419
L
stufe
can_445
lshp_577
NotreDame_yeast
mycielskian8
Roget
dwt_592
cage
dwt_607
netz4504
lshp_778
bcspwr06
bcspwr07
dwt_758
dwt_503
bcspwr08
delaunay_n10
jagmesh1
bcspwr09
minnesota
can_715
EVA
jagmesh2
lshp1009
ukerbe1_dual
can_634
dwt_869
jagmesh3
dwt_918
dwt_878
jagmesh7
jagmesh8
jagmesh5
GD06_Java
diag
dwt_1007
dwt_1005
lshp1270
EX2
EX1
EPA
jagmesh6
jagmesh9
G15
G17
G16
G14
jagmesh4
can_838
dwt_1242
lshp1561
email
rajat02
G51
G53
G54
G52
G49
G50
G48
can_1054
grid2_dual
delaunay_n11
can_1072
Kohonen
grid2
lshp1882
USpowerGrid
power
uk
yeast
Erdos972
mycielskian9
Erdos982
blckhole
Erdos992
lshp2233
ukerbe1
California
dwt_992
Erdos02
lshp2614
eris1176
G44
G47
G45
G46
G43
p2p-Gnutella08
lshp3025
bcspwr10
lock_700
sstmodel
barth4
G36
G35
G38
G37
airfoil1_dual
lshp3466
delaunay_n12
airfoil1
G55
dwt_2680
email-Eu-core
p2p-Gnutella09
barth
as-735
3elt_dual
3elt
ca-GrQc
data
p2p-Gnutella06
commanche_dual
p2p-Gnutella05
G60
wb-cs-stanford
G3
G5
G2
G1
G4
G23
G22
G24
G25
G26
p2p-Gnutella04
barth4
rajat01
mycielskian10
barth
Oregon-1
rajat06
delaunay_n13
lock1074
ca-HepTh
p2p-Gnutella25
whitaker3_dual
whitaker3
G58
crack_dual
crack
barth5
rajat07
p2p-Gnutella24
Oregon-2
fe_4elt2
L-9
EX4
EX3
cegb3306
cegb3024
lock2232
G63
rajat08
biplane-9
cs4
p2p-Gnutella30
big_dual
stufe-10
fxm3_6
cti
as-22july06
delaunay_n14
se
fe_sphere
ford1
shuttle_eddy
shuttle_eddy
wiki-Vote
nasa4704
rajat09
barth5
vsp_p0291_seymourl_iiasa
vsp_data_and_seymourl
vsp_c-30_data_data
rajat10
mycielskian11
cca
shock-9
ccc
p2p-Gnutella31
pds10
wing_nodal
lock3491
nasa2910
dictionary28
t60k
ca-CondMat
vsp_befref_fxm_2_4_air02
skirt
skirt
delaunay_n15
bfly
vsp_barth5_1Ksep_50in_5Kout
g3rmt3m3
copter1
man_5976
ca-HepPh
struct4
luxembourg_osm
wing
tandem_vtx
enron
cegb2802
vsp_sctap1-2b_and_seymourl
EX6
EX5
finance256
rgg_n_2_15_s0
cegb2919
usroads-48
pwt
pwt
pwt
fe_body
lpl1
usroads
HEP-th
HEP-th-new
cit-HepTh
email-Enron
vsp_south31_slptsk
vsp_model1_crew1_cr42_south31
delaunay_n16
ca-AstroPh
net25
mycielskian12
onera_dual
email-EuAll
cit-HepPh
loc-Brightkite
tandem_dual
vsp_c-60_data_cti_cs4
fxm4_6
soc-Epinions1
ford2
bcsstk33
pfinan512
vsp_bump2_e18_aa01_model1_crew1
bcsstk29
ex3sta1
rgg_n_2_16_s0
pf2177
brack2
copter2
vsp_mod2_pgp2_slptsk
delaunay_n17
pkustk02
fe_ocean
vsp_vibrobox_scagr7-2c_rlfddd
tube1
fe_tooth
soc-Slashdot0811
NotreDame_www
net50
soc-Slashdot0902
crplat2
pcrystk02
pkustk01
preferentialAttachment
smallworld
G_n_pin_pout
vsp_finan512_scagr7-2c_rlfddd
struct3
bcsstk31
caidaRouterLevel
mycielskian13
amazon0302
fe_rotor
pli
rgg_n_2_17_s0
598a
net75
web-NotreDame
delaunay_n18
pkustk09
dblp-2010
coAuthorsCiteseer
lp1
pcrystk03
com-Amazon
loc-Gowalla
opt1
trdheim
coAuthorsDBLP
bcsstk32
net100
bcsstk30
com-DBLP
wave
144
gupta1
pkustk05
web-Stanford
Stanford
citationCiteseer
pkustk07
net4-1
vsp_msc10848_300sep_100in_1Kout
tsyl201
pkustk06
net125
pct20stif
ins2
ramage02
srb1
roadNet-PA
rgg_n_2_18_s0
belgium_osm
net150
pkustk03
delaunay_n19
amazon0312
3dtube
cnr-2000
pkustk08
amazon0505
m14b
amazon0601
mycielskian14
s4dkt3m2
roadNet-TX
vsp_bcsstk30_500sep_10in_1Kout
debr
pkustk04
gupta2
pkustk10
netherlands_osm
wiki-Talk
web-Google
amazon-2008
pkustk11
roadNet-CA
com-Youtube
NACA0015
delaunay_n20
rgg_n_2_19_s0
pkustk13
auto
pkustk12
Stanford_Berkeley
web-BerkStan
gearbox
gupta3
pattern1
flickr
mip1
mycielskian15
fcondp2
fullb
troll
halfb
delaunay_n21
hugetrace-00000
rgg_n_2_20_s0
italy_osm
pkustk14
higgs-twitter
patents
venturiLevel3
great-britain_osm
cit-Patents
in-2004
hugetric-00000
eu-2005
wikipedia-20051105
hugetric-00010
M6
hugetric-00020
as-Skitter
333SP
AS365
germany_osm
NLR
delaunay_n22
asia_osm
adaptive
wiki-topcats
rgg_n_2_21_s0
coPapersDBLP
soc-Pokec
coPapersCiteseer
mycielskian16
road_central
packing-500x100x100-b050
hugetrace-00010
wikipedia-20060925
wikipedia-20061104
wikipedia-20070206
hugetrace-00020
delaunay_n23
hugebubbles-00000
wb-edu
road_usa
hugebubbles-00010
rgg_n_2_22_s0
hugebubbles-00020
soc-LiveJournal1
com-LiveJournal
ljournal-2008
channel-500x100x100-b050
)
######### group name
group=(
Mycielski
Mycielski
Pajek
Pajek
Pajek
Mycielski
Pajek
Pajek
HB
Pajek
Pajek
HB
HB
Pajek
Pajek
Pajek
HB
HB
Mycielski
Pajek
Newman
HB
HB
HB
Pajek
Pajek
HB
HB
Pajek
Pajek
Pajek
JGD_Margulies
HB
HB
Pajek
HB
Newman
HB
Pajek
Pajek
DIMACS10
HB
Pajek
Pothen
Pajek
Mycielski
HB
HB
HB
HB
HB
HB
HB
HB
AG-Monien
Newman
Newman
AG-Monien
HB
HB
HB
HB
HB
HB
Mycielski
HB
HB
HB
Pajek
HB
HB
HB
Pothen
HB
AG-Monien
HB
HB
HB
Pajek
MathWorks
HB
Pajek
Pajek
HB
HB
HB
HB
HB
JGD_BIBD
HB
HB
HB
AG-Monien
AG-Monien
HB
HB
Barabasi
Mycielski
Pajek
HB
AG-Monien
HB
AG-Monien
HB
HB
HB
HB
HB
HB
DIMACS10
HB
HB
Gleich
HB
Pajek
HB
HB
AG-Monien
HB
HB
HB
HB
HB
HB
HB
HB
Pajek
AG-Monien
HB
HB
HB
JGD_SPG
JGD_SPG
Pajek
HB
HB
Gset
Gset
Gset
Gset
HB
HB
HB
HB
Arenas
Rajat
Gset
Gset
Gset
Gset
Gset
Gset
Gset
HB
AG-Monien
DIMACS10
HB
Pajek
AG-Monien
HB
Pajek
Newman
DIMACS10
Pajek
Pajek
Mycielski
Pajek
HB
Pajek
HB
AG-Monien
Pajek
HB
Pajek
HB
HB
Gset
Gset
Gset
Gset
Gset
SNAP
HB
HB
HB
HB
Nasa
Gset
Gset
Gset
Gset
AG-Monien
HB
DIMACS10
AG-Monien
Gset
HB
SNAP
SNAP
Nasa
SNAP
AG-Monien
AG-Monien
SNAP
DIMACS10
SNAP
Pothen
SNAP
Gset
Gleich
Gset
Gset
Gset
Gset
Gset
Gset
Gset
Gset
Gset
Gset
SNAP
Pothen
Rajat
Mycielski
Pothen
SNAP
Rajat
DIMACS10
HB
SNAP
SNAP
AG-Monien
AG-Monien
Gset
AG-Monien
AG-Monien
Nasa
Rajat
SNAP
SNAP
DIMACS10
AG-Monien
JGD_SPG
JGD_SPG
HB
HB
HB
Gset
Rajat
AG-Monien
DIMACS10
SNAP
AG-Monien
AG-Monien
Andrianov
DIMACS10
Newman
DIMACS10
AG-Monien
DIMACS10
GHS_psdef
Nasa
Pothen
SNAP
Boeing
Rajat
Pothen
DIMACS10
DIMACS10
DIMACS10
Rajat
Mycielski
AG-Monien
AG-Monien
AG-Monien
SNAP
GHS_psdef
DIMACS10
HB
Boeing
Pajek
DIMACS10
SNAP
DIMACS10
Pothen
Nasa
DIMACS10
AG-Monien
DIMACS10
TKK
GHS_psdef
HB
SNAP
Rothberg
DIMACS10
DIMACS10
Pothen
LAW
HB
DIMACS10
JGD_SPG
JGD_SPG
GHS_psdef
DIMACS10
HB
Gleich
Nasa
Pothen
GHS_psdef
DIMACS10
Andrianov
Gleich
Pajek
Pajek
SNAP
SNAP
DIMACS10
DIMACS10
DIMACS10
SNAP
Andrianov
Mycielski
Pothen
SNAP
SNAP
SNAP
Pothen
DIMACS10
Andrianov
SNAP
GHS_psdef
HB
Mulvey
DIMACS10
HB
Andrianov
DIMACS10
Andrianov
AG-Monien
GHS_psdef
DIMACS10
DIMACS10
Chen
DIMACS10
DIMACS10
TKK
DIMACS10
SNAP
Barabasi
Andrianov
SNAP
DNVS
Boeing
Chen
DIMACS10
DIMACS10
DIMACS10
DIMACS10
Rothberg
HB
DIMACS10
Mycielski
SNAP
DIMACS10
Li
DIMACS10
DIMACS10
Andrianov
SNAP
DIMACS10
Chen
LAW
DIMACS10
Andrianov
Boeing
SNAP
SNAP
GHS_psdef
DNVS
DIMACS10
HB
Andrianov
HB
SNAP
AG-Monien
DIMACS10
Gupta
Chen
SNAP
Kamvar
DIMACS10
Chen
Andrianov
DIMACS10
DNVS
Chen
Andrianov
Boeing
Andrianov
GHS_psdef
GHS_psdef
SNAP
DIMACS10
DIMACS10
Andrianov
Chen
DIMACS10
SNAP
Rothberg
LAW
Chen
SNAP
DIMACS10
SNAP
Mycielski
TKK
SNAP
DIMACS10
AG-Monien
Chen
Gupta
Chen
DIMACS10
SNAP
SNAP
LAW
Chen
SNAP
SNAP
DIMACS10
DIMACS10
DIMACS10
Chen
DIMACS10
Chen
Kamvar
SNAP
Rothberg
Gupta
Andrianov
Gleich
Andrianov
Mycielski
DNVS
DNVS
DNVS
DNVS
DIMACS10
DIMACS10
DIMACS10
DIMACS10
Chen
SNAP
Pajek
DIMACS10
DIMACS10
SNAP
LAW
DIMACS10
LAW
Gleich
DIMACS10
DIMACS10
DIMACS10
SNAP
DIMACS10
DIMACS10
DIMACS10
DIMACS10
DIMACS10
DIMACS10
DIMACS10
SNAP
DIMACS10
DIMACS10
SNAP
DIMACS10
Mycielski
DIMACS10
DIMACS10
DIMACS10
Gleich
Gleich
Gleich
DIMACS10
DIMACS10
DIMACS10
Gleich
DIMACS10
DIMACS10
DIMACS10
DIMACS10
SNAP
SNAP
LAW
DIMACS10
)

TARGET_DIR="./eval_data"

if [ -d "$TARGET_DIR" ]; then
   echo "'$TARGET_DIR' found and now copying files, please wait ..."
else
   echo "Warning: '$TARGET_DIR' NOT found. Create it"
   mkdir $TARGET_DIR
fi

OUTPUT=output_$1.csv

rm -rf $OUTPUT

TILEDIM=(4 8 16 32)

#### bin_bin_full
if [ $1 = "bin_bin_full" ]; then
  echo "-----------------------------------"

  for (( i=0; i<${#filename[@]}; i++ ));
  do
    echo "${group[$i]}/${filename[$i]}"
    wget https://suitesparse-collection-website.herokuapp.com/MM/${group[$i]}/${filename[$i]}.tar.gz
    tar zxvf ${filename[$i]}.tar.gz
    mv ${filename[$i]}/${filename[$i]}.mtx ${TARGET_DIR}
    rm -rf ${filename[$i]}.tar.gz
    rm -rf ${filename[$i]}
    printf "${filename[$i]} " >> $OUTPUT
    for (( j=0; j<${#TILEDIM[@]}; j++ ));
    do
      echo "bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0"
      bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0 >> $OUTPUT
    done
    echo >> $OUTPUT
    rm -rf ${TARGET_DIR}/${filename[$i]}.mtx
  done
else
  echo "try again"
fi

#### bin_full_full
if [ $1 = "bin_full_full" ]; then
  echo "-----------------------------------"

  for (( i=0; i<${#filename[@]}; i++ ));
  do
    echo "${group[$i]}/${filename[$i]}"
    wget https://suitesparse-collection-website.herokuapp.com/MM/${group[$i]}/${filename[$i]}.tar.gz
    tar zxvf ${filename[$i]}.tar.gz
    mv ${filename[$i]}/${filename[$i]}.mtx ${TARGET_DIR}
    rm -rf ${filename[$i]}.tar.gz
    rm -rf ${filename[$i]}
    printf "${filename[$i]} " >> $OUTPUT
    for (( j=0; j<${#TILEDIM[@]}; j++ ));
    do
      echo "bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0"
      bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0 >> $OUTPUT
    done
    echo >> $OUTPUT
    rm -rf ${TARGET_DIR}/${filename[$i]}.mtx
  done
else
  echo "try again"
fi

#### bin_bin_bin
if [ $1 = "bin_bin_bin" ]; then
  echo "-----------------------------------"

  for (( i=0; i<${#filename[@]}; i++ ));
  do
    echo "${group[$i]}/${filename[$i]}"
    wget https://suitesparse-collection-website.herokuapp.com/MM/${group[$i]}/${filename[$i]}.tar.gz
    tar zxvf ${filename[$i]}.tar.gz
    mv ${filename[$i]}/${filename[$i]}.mtx ${TARGET_DIR}
    rm -rf ${filename[$i]}.tar.gz
    rm -rf ${filename[$i]}
    printf "${filename[$i]} " >> $OUTPUT
    for (( j=0; j<${#TILEDIM[@]}; j++ ));
    do
      echo "bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0"
      bmv/bmv${TILEDIM[$j]}_$1 ${TARGET_DIR}/${filename[$i]}.mtx 0 >> $OUTPUT
    done
    echo >> $OUTPUT
    rm -rf ${TARGET_DIR}/${filename[$i]}.mtx
  done
else
  echo "try again"
fi

#### baseline
if [ $1 = "baseline" ]; then
  echo "-----------------------------------"

  for (( i=0; i<${#filename[@]}; i++ ));
  do
    echo "${group[$i]}/${filename[$i]}"
    wget https://suitesparse-collection-website.herokuapp.com/MM/${group[$i]}/${filename[$i]}.tar.gz
    tar zxvf ${filename[$i]}.tar.gz
    mv ${filename[$i]}/${filename[$i]}.mtx ${TARGET_DIR}
    rm -rf ${filename[$i]}.tar.gz
    rm -rf ${filename[$i]}
    printf "${filename[$i]} " >> $OUTPUT
    bmv/baseline ${TARGET_DIR}/${filename[$i]}.mtx 0 >> $OUTPUT
    echo >> $OUTPUT
    rm -rf ${TARGET_DIR}/${filename[$i]}.mtx
  done
else
  echo "try again"
fi